<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–∏ –ú—ã—Å–ª–∏ - –ë—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å –∏–¥–µ–π</title>
    <meta name="description" content="–ë—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å –º—ã—Å–ª–µ–π, –∏–¥–µ–π, –∑–∞–¥–∞—á –∏ –ø–æ–∫—É–ø–æ–∫ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º –≤–≤–æ–¥–æ–º">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí≠</text></svg>">
    <link rel="stylesheet" href="styles.css?v=3">
</head>
<body>
    <div class="app">
        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∑–∞–º–µ–Ω—è—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫) -->
        <div class="control-buttons">
            <h1 class="app-title">–ú–æ–∏ –ú—ã—Å–ª–∏</h1>
            <div class="buttons-group">
                <button id="exportData" class="export-btn">–≠–∫—Å–ø–æ—Ä—Ç –≤ Google Sheets</button>
                <button id="clearBtn" class="clear-btn">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
        <div class="input-section">
            <div class="input-container">
                <textarea 
                    id="thoughtText" 
                    placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –∏–ª–∏ —Å–∫–∞–∂–∏—Ç–µ –≤–∞—à—É –º—ã—Å–ª—å, –∏–¥–µ—é, –∑–∞–¥–∞—á—É –∏–ª–∏ –ø–æ–∫—É–ø–∫—É...&#10;Enter = –¥–æ–±–∞–≤–∏—Ç—å, Shift+Enter = –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞"
                    rows="3"
                ></textarea>
                
                <div class="input-controls">
                    <button id="recordVoice" class="voice-btn" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥">
                        –ì–æ–ª–æ—Å
                    </button>
                    <button id="addThought" class="add-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
            
            <div class="voice-status" id="voiceStatus"></div>
        </div>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="filters">
            <button id="filterAll" class="filter-btn active" data-filter="all">–í—Å–µ</button>
            <button id="filterTasks" class="filter-btn" data-filter="task">–ó–∞–¥–∞—á–∏</button>
            <button id="filterPurchases" class="filter-btn" data-filter="purchase">–ü–æ–∫—É–ø–∫–∏</button>
            <button id="filterIdeas" class="filter-btn" data-filter="idea">–ò–¥–µ–∏</button>
            <button id="filterThoughts" class="filter-btn" data-filter="thought">–ú—ã—Å–ª–∏</button>
        </div>


        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π -->
        <div class="thoughts-list" id="thoughtsList">
            <!-- –ó–∞–ø–∏—Å–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å</h3>
            <textarea id="editInput" rows="4"></textarea>
            <div class="modal-controls">
                <button id="saveEditBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="cancelEditBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <script src="app.js?v=3"></script>
    
    <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>
